# Быстрое решение: "Подборки не найдены"

## Проблема
Фронтенд показывает "Подборки не найдены" после деплоя на Render.com

## Решение за 2 минуты

### Шаг 1: Найдите URL вашего Backend сервиса
1. Откройте панель Render.com
2. Перейдите в ваш Backend сервис
3. Скопируйте URL (например: `https://tgwebapp-backend.onrender.com`)

### Шаг 2: Добавьте переменную окружения в Frontend
1. Откройте ваш Frontend сервис на Render.com
2. Перейдите в раздел "Environment"
3. Нажмите "Add Environment Variable"
4. **Имя:** `VITE_BACKEND_URL`
5. **Значение:** URL вашего Backend (например: `https://tgwebapp-backend.onrender.com`)
6. **Важно:** Без слеша в конце!

### Шаг 3: Пересоберите Frontend
⚠️ **ВАЖНО:** Vite встраивает переменные окружения на этапе сборки, поэтому после добавления переменной **обязательно** нужно пересобрать проект!

1. После добавления переменной нажмите "Save Changes"
2. Render автоматически пересоберет Frontend
3. **Дождитесь полного завершения деплоя** (может занять 2-5 минут)
4. Если автоматическая пересборка не началась, нажмите "Manual Deploy" → "Deploy latest commit"

### Шаг 4: Проверьте работу
1. Откройте ваш Frontend URL
2. Откройте консоль браузера (F12)
3. Проверьте логи - должны быть сообщения о подключении к бэкенду
4. Если видите ошибки, проверьте:
   - Правильность URL бэкенда
   - Что бэкенд запущен и доступен
   - Логи бэкенда на Render.com

## Проверка бэкенда

Откройте в браузере URL бэкенда + `/products/collections`:
```
https://your-backend.onrender.com/products/collections
```

Должен вернуться JSON с коллекциями или пустой массив `{"count": 0, "items": []}`

## Если проблема сохраняется

1. **Убедитесь, что проект был пересобран после добавления переменной:**
   - Откройте логи сборки Frontend на Render.com
   - Убедитесь, что сборка прошла успешно
   - Если сборка не началась автоматически, запустите "Manual Deploy"

2. **Проверьте консоль браузера (F12):**
   - Откройте вкладку "Console"
   - Должны быть логи с префиксом `[API]` и `=== App Initialization ===`
   - Проверьте, какой URL используется для подключения к бэкенду
   - Проверьте, есть ли ошибки подключения

3. **Проверьте вкладку Network в DevTools:**
   - Откройте вкладку "Network"
   - Обновите страницу
   - Найдите запрос к `/products/collections`
   - Проверьте URL запроса - должен быть на ваш Backend сервис
   - Проверьте статус ответа (200, 404, 500 и т.д.)

4. **Проверьте логи Backend** на Render.com:
   - Должны быть сообщения о запуске сервера
   - Проверьте, что сервер слушает правильный порт
   - Проверьте, есть ли запросы от фронтенда в логах

5. **Убедитесь, что переменная окружения установлена правильно:**
   - Имя: `VITE_BACKEND_URL` (точно так, с префиксом VITE_)
   - Значение: полный URL с `https://`
   - Без слеша в конце
   - Пример: `https://tgwebapp-backend-o5d3.onrender.com`

## Пример правильной конфигурации

**Frontend Environment Variables:**
```
VITE_BACKEND_URL=https://tgwebapp-backend.onrender.com
```

**Backend Environment Variables (опционально):**
```
USE_MOCK_PRODUCTS=false
USE_LOCAL_DB=true
```

